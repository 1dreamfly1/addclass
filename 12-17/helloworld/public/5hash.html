<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button>1111</button>
    <button>2222</button>
    <button>3333</button>
    <p id="p">第一张图片</p>
    <input type="button" value="后退" id="btn">

    <script>
    let hash1 =window.location.hash
    if(!hash1){
        window.location.hash='page=0'
    }
    let ary =['第一张图片','第二张图片','第三张图片']
    let btns =document.querySelectorAll('button')
    btns.forEach((item,i)=>{
        item.onclick=function(){
            p.innerText=ary[i]
            window.location.hash ='page='+i
        }
    })
    window.onhashchange =function(){
        let index = window.location.hash.match(/page=(\d)/)[1]
        p.innerText=ary[index]
   
    }
    btn.onclick =function(){
        let num = window.location.hash.match(/page=(\d)/)[1]
        num--
        
        if(num<0){
            num =0
        }
        window.location.hash ='page='+num
    }
    console.log(window.navigator.userAgent);
    
    
    </script>
    
</body>
</html>