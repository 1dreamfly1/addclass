<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		body,
		ul,
		li {
			margin: 0;
			padding: 0;
			list-style: none;
		}
	</style>
	<link rel="stylesheet" type="text/css" href="price.css" />
</head>

<body onselectstart="return false;">
	<div class="wrap">
		<div class="box">
			<ul class="list" id="ul">
				<!-- <li>
					<i id="i1"></i>
					<em id="em">0</em>
					<i id="i2"></i>
					<span>
						单价：<strong>12.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>10.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>8.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>8元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>14.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li> -->
			</ul>
			<div class="info">
				<span>商品公合计：<em id="geshu">0</em>件</span>
				<span>共花费了：<em id="huafei">0</em>元</span>
				<br />
				<br />
				<span>其中最贵的商品单价是：<em id="zuigui">0</em>元</span>
			</div>
		</div>
	</div>
	<script>
        let ary =[
			{
				id:0,
				num:0,
				sum:0,
				price:12.5,

			},
			{
				id:1,
				num:0,
				sum:0,
				price:10.5,

			},
			{
				id:2,
				num:0,
				sum:0,
				price:8.5,

			},
			{
				id:3,
				num:0,
				sum:0,
				price:8,

			},
			{
				id:4,
				num:0,
				sum:0,
				price:14.5,

			}
		]
		/*
		<li>
			<i id="i1"></i>
			<em id="em">0</em>
			<i id="i2"></i>
			<span>
				单价：<strong>12.5元 </strong> 小计：<strong>0元</strong>
			</span>
		</li>
		*/
	    for (let i = 0 ;i<ary.length;i++){
			render(ary[i])
		}
		
		
		function render ({id,num,sum,price}){
		const i1 = document.createElement('i')
		const em = document.createElement('em')
		em.innerHTML = num
		const i2 = document.createElement('i')
		const span = document.createElement('span')
		const strong1 = document.createElement('strong')
		const strong2 = document.createElement('strong')
		const li = document.createElement('li')
        li.appendChild(i1)
		li.appendChild(em)
		li.appendChild(i2)
		strong1.innerHTML = '单价:'+price+'元'
		span.appendChild(strong1)
		strong2.innerHTML = '小计:'+sum+'元'
		span.appendChild(strong2)
		li.appendChild(span)
		ul.appendChild(li)
        //--
		i1.onclick = function(){
			--ary[id].num
			
			if(ary[id].num <= 0){
				ary[id].num =0
				em.innerHTML =ary[id].num
				strong2.innerHTML = '小计:'+ary[id].num*ary[id].price+'元'
				
				
			}else{
				em.innerHTML = ary[id].num
				strong2.innerHTML = '小计:'+ary[id].num*ary[id].price+'元'
				
			}
			ary[id].sum = ary[id].num*ary[id].price
			
			let a = 0 
			let b =0
			let c =0
			for (let j =0;j<ary.length;j++){
				a +=ary[j].num
				b +=ary[j].sum
				if (ary[j].num!==0&&ary[j].price>c){
				c=ary[j].price}
			}
			geshu.innerText = a
			huafei.innerText = b
			zuigui.innerText =c
			
			
			
		}
		//++
        i2.onclick = function(){						
			em.innerHTML = ++ary[id].num
			strong2.innerHTML = '小计:'+ary[id].num*ary[id].price+'元'
			ary[id].sum = ary[id].num*ary[id].price
			
			let a = 0 
			let b =0
			let c =0
			for (let j =0;j<ary.length;j++){
				a +=ary[j].num
				b +=ary[j].sum
				if (ary[j].num!==0&&ary[j].price>c){
				c=ary[j].price}
			}
			geshu.innerText = a
			huafei.innerText = b
			zuigui.innerText =c
			
		}

		}

	</script>
</body>

</html>